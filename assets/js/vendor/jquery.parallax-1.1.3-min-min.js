!function(h){var l=h(window),f=l.height();l.resize(function(){f=l.height()}),h.fn.parallax=function(i,r,t){var u=h(this),o,c,n=0;u.each(function(){c=u.offset().top}),o=t?function(t){return t.outerHeight(!0)}:function(t){return t.height()},(arguments.length<1||null===i)&&(i="50%"),(arguments.length<2||null===r)&&(r=.1),(arguments.length<3||null===t)&&(t=!0);var e={update:function(){var a=l.scrollTop();u.each(function(){var t=h(this),n=t.offset().top,e;n+o(t)<a||a+f<n||u.css("backgroundPosition",i+" "+Math.round((c-a)*r)+"px")})}};return l.bind("scroll",e.update).resize(e.update),e.update(),this.each(function(){var t=Object.create(e);h.data(this,"parallax",t)})}}(jQuery);